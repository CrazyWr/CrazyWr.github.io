---
layout: post
title: 正则表达式基本使用
keywords: [正则表达式, 语法]
description: “正则表达式的基本使用”
category: tech
tags: [正则表达式]
---
{%include JB/setup%}

总结基本的正则表达式符号 及 简单用法, 以备忘, 长篇大论, 不喜勿喷...

## 1.正则表达式基本符号

两个特殊的符号'^'和'$'。他们的作用是分别指出一个字符串的开始和结束。例子如下：
"^The"：表示所有以"The"开始的字符串（"There"，"The cat"等）；  
"of despair$"：表示所以以"of despair"结尾的字符串；  
"notice"：表示任何包含"notice"的字符串。
最后那个例子，如果你不使用两个特殊字符，你就在表示要查找的串在被查找串的任意部分——你并不把它定位在某一个位置。

其它还有’\*’，’+’和’?’这三个符号，表示一个或一序列字符重复出现的次数。它们分别表示“没有或更多”，“一次或更多”还有“没有或一次”。下面是几个例子：
"ab\*”：表示一个字符串有一个a后面跟着零个或若干个b。（"a", "ab", "abbb",……）；  
"ab+"：表示一个字符串有一个a后面跟着至少一个b或者更多；  
"ab?"：表示一个字符串有一个a后面跟着零个或者一个b；  
"a?b+$"：表示在字符串的末尾有零个或一个a跟着一个或几个b。

你也可以使用范围，用大括号括起，用以表示重复次数的范围。
"ab{2}”：表示一个字符串有一个a跟着2个b（"abb"）；  
"ab{2,}”：表示一个字符串有一个a跟着至少2个b (“abb…”)；  
"ab{3,5}”：表示一个字符串有一个a跟着3到5个b。

__注意__，你必须指定范围的下限 (如：”{0,2}”而不是”{,2}”).
还有， 你可能注意到了，’\*’，’+’和'?'相当于”{0,}”，”{1,}”和”{0,1}”。
  
还有一个'¦'，表示“或”操作：
"hi¦hello"：表示一个字符串里有"hi"或者"hello"；  
"(b¦cd)ef"：表示"bef"或"cdef"；  
"(a¦b)\*c”：表示一串"a""b"混合的字符串后面跟一个"c"；

'.'  可以替代任何字符：
“a.[0-9]”：表示一个字符串有一个"a"后面跟着一个任意字符和一个数字；  
“^.{3}$”：表示有任意三个字符的字符串（长度为3个字符）；

[]  方括号表示某些字符允许在一个字符串中的某一特定位置出现：
“[ab]”：表示一个字符串有一个"a"或"b"（相当于"a¦b"）；  
“[a-d]”：表示一个字符串包含小写的'a'到'd'中的一个（相当于"a¦b¦c¦d"或者”[abcd]”）；  
“^[a-zA-Z]”：表示一个以字母开头的字符串；  
“[0-9]%”：表示一个百分号前有一位的数字；  
“,[a-zA-Z0-9]$”：表示一个字符串以一个逗号后面跟着一个字母或数字结束。
你也可以在方括号里用'^'表示不希望出现的字符，'^'应在方括号里的第一位。（如：”%[^a-zA-Z]%”表示两个百分号中不应该出现字母）。

为了逐字表达，你必须在”^.$()¦\*+?\\{”这些字符前加上转移字符’\\’。
请注意在方括号中，不需要转义字符。

__特殊字符作用__ 

.   匹配任何字符、空格和Tab键   
eg.  正则表达式：a.b   匹配：abb,  acb,  a@b等    
\\d 匹配数字  \<==\>  [0-9]     
eg.  正则表达式:  \\dd   匹配：1d, 2d等    
\\D 匹配非数字  \<==\>  [^0-9]       
eg.  正则表达式:  \\Dd   匹配：ad, bd等，不匹配1d,2d      
\\s  匹配空白字符串        
eg.  正则表达式：\\sd   匹配：(空格)d     
\\S  匹配非空白字符      
eg.  正则表达式：\\Sd   匹配:  ad, bd等       
w   匹配单词字符       \<==\>    [a-zA-Z0-9]        
eg.  正表表达式：\\wd   匹配：ad, bd等，不匹配: \_d , @d      
\\W 匹配非单词字符    \<==\>     [^\\w]      
eg.  正则表达式：Wd    匹配:  !d,  @d,   不匹配1d,ad        
[]   匹配包含其中的单个字符       
eg.  正则表达式：a[bcd]m  匹配: abm,  acm       
()    匹配一组表达式(可以由特殊字符组成)       
eg.  正则表达式：a([bcd]n)m  匹配：abnm,  acnm，adnm        

正则表达式中/i,/g,/ig,/gi,/m的区别和含义    
/i (忽略大小写 ignore )  
/g (全文查找出现的所有匹配字符 global)  
/m (多行查找 multiple)  
/gi(全文查找、忽略大小写)  
/ig(全文查找、忽略大小写)

## 2.常用的正则表达式
  
__校验是否全由数字组成__        
^[0-9]{1,20}$         
 
^ 表示打头的字符要匹配紧跟^后面的规则       
$ 表示打头的字符要匹配紧靠$前面的规则
[] 中的内容是可选字符集   
[0-9] 表示要求字符范围在0-9之间      
[1,20] 表示数字字符串长度合法为1到20，即为[0-9]中的字符出现次数的范围是1到20次。        
           
^ 和 $成对使用应该是表示要求整个字符串完全匹配定义的规则，而不是只匹配字符串中的一个子串。         
 
---- 
__校验登录名：只能输入5-20个以字母开头、可带数字、“\_”、“.”的字串__      
^[a-zA-Z]{1}([a-zA-Z0-9]|[.\_]){4,19}$      
            
^[a-zA-Z]{1} 表示第一个字符要求是字母。           
([a-zA-Z0-9]|[.\_]){4,19} 表示从第二位开始（因为它紧跟在上个表达式后面）的一个长度为4到9位的字符串，它要求是由大小写字母、数字或者特殊字符集[.\_]组成。        

---- 
__校验用户姓名：只能输入1-30个以字母开头的字串__        
^[a-zA-Z]{1,30}$              
 
----           
__校验密码：只能输入6-20个字母、数字、下划线__        
^(\\w){6,20}$       
 
\\w：用于匹配字母，数字或下划线字符          
 
---- 
__校验普通电话、传真号码：可以“+”或数字开头，可含有“-” 和 “ ”__        
/^[+]{0,1}(\\d){1,3}[ ]?([-]?((\\d)|[ ]){1,12})+$/             
 
\\d：用于匹配从0到9的数字；          
“?”元字符规定其前导对象必须在目标对象中连续出现零次或一次           
       
可以匹配的字符串如：+123 -999 999 ； +123-999 999 ；123 999 999 ；+123 999999等         
 
---- 
__校验URL __       
^http[s]{0,1}://.+$   或   /^http[s]{0,1}://.{1,n}$/ (表示url串的长度为length(“https://”) + n )         
 
 / ：表示字符“/”。     
. 表示所有字符的集       
+ 等同于{1,}，就是1到正无穷吧。      
 
----     
__校验纯中文字符__     
/^[\\u4E00-\\u9FA5]+$/            

----      
“^\\d+$"　　// __非负整数（正整数 + 0） __  
“^[0-9]\*{1-9}[0-9]\*$”　　// __正整数 __  
“^((-\\d+)|(0+))$"　　//__非正整数（负整数 + 0） __  
“^-[0-9]\*{1-9}[0-9]\*$”　　//__负整数 __  
“^-?\\d+$"　　　　//__整数__   
“^\\d+(.\\d+)?$"　　//__非负浮点数（正浮点数 + 0） __  
“^(([0-9]+.[0-9]\*{1-9}0-9\*)|([0-9]\*{1-9}[0-9]\*.[0-9]+)|([0-9]\*{1-9}[0-9]\*))$”　　//__正浮点数 __  
“^((-\\d+(.\\d+)?)|(0+(.0+)?))$"　　//__非正浮点数（负浮点数 + 0） __  
“^(-(([0-9]+.[0-9]\*{1-9}[0-9]\*)|([0-9]\*{1-9}[0-9]\*.[0-9]+)|([0-9]\*{1-9}[0-9]\*)))$”　　//__负浮点数 __  
“^(-?\\d+)(.\\d+)?$"　　//__浮点数 __  
“^[A-Za-z]+$"　　//__由26个英文字母组成的字符串 __  
“^[A-Z]+$"　　//__由26个英文字母的大写组成的字符串 __  
“^[a-z]+$"　　//__由26个英文字母的小写组成的字符串 __  
“^[A-Za-z0-9]+$"　　//__由数字和26个英文字母组成的字符串 __  
“^\\w+$"　　//__由数字、26个英文字母或者下划线组成的字符串 __  
“^[\\w-]+(.[\\w-]+)\*@[\\w-]+(.[\\w-]+)+$"　　　　//__email地址 __  
“^[a-zA-z]+://(\\w+(-\\w+)\*)(.(\\w+(-\\w+)\*))\*(?\\S\*)?$”　　//__url__  
/^(\\d{2}|\\d{4})-((0([1-9]{1}))|(11|2))-(([0-2][1])|(3[0|1]))$/   //  __年-月-日__  
/^((0([1-9]{1}))|(1[1|2]))/(([0-2][2])|(3[0|1]))/(\\d{2}|\\d{4})$/   // __月/日/年__  
"^([w-.][3]+)@(([[0-9][4]1,3.[0-9][5]1,3.[0-9][6]1,3.)|(([w-][7]+.)+))([a-zA-Z][8]2,4|[0-9][9]1,3)(]?)$"   //__Email__
^([0-9A-F][10]2)(-[0-9A-F][11]2)5$   //__MAC地址的正则表达式__  
^[-+][12]?d+(.d+)?$  //__值类型正则表达式__

[1]:	[1-9]%7B1%7D
[2]:	[1-9]%7B1%7D
[3]:	#
[4]:	#
[5]:	#
[6]:	#
[7]:	#
[8]:	#
[9]:	#
[10]:	#
[11]:	#
[12]:	#